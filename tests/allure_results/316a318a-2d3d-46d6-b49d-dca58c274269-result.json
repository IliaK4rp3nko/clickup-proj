{"name": "Невалидный POST: \\u041d\\u0435\\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u044e\\u0449\\u0438\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидался статус 400 или 422, получен 404\nassert 404 in [400, 422]\n +  where 404 = <Response [404]>.status_code", "trace": "self = <api.test_api.TestPosts object at 0x10677ed70>, auth_session = <requests.sessions.Session object at 0x1068a7770>\ninvalid_data = {'description': 'desc', 'name': 'Task', 'status': 'not_a_status'}\nrequest = <FixtureRequest for <Function test_create_task_invalid_data_parametrized[\\u041d\\u0435\\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u044e\\u0449\\u0438\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441]>>\n\n    @allure.label(\"layer\", \"api\")\n    @allure.tag(\"негативный\", \"создание_задачи\")\n    @allure.description(\n        \"Проверка невозможности создать задачу с невалидными параметрами\"\n    )\n    @pytest.mark.parametrize(\n        \"invalid_data\",\n        [\n            pytest.param(\n                {\n                    \"name\": \"\",\n                    \"description\": \"Valid desc\",\n                    \"status\": \"to do\"\n                },\n                id=\"Пустое имя задачи\"\n            ),\n            pytest.param(\n                {\n                    \"name\": \"Task\",\n                    \"description\": \"desc\",\n                    \"status\": \"not_a_status\"\n                },\n                id=\"Несуществующий статус\"\n            ),\n            pytest.param(\n                {},\n                id=\"Пустое тело запроса\"\n            ),\n        ]\n    )\n    def test_create_task_invalid_data_parametrized(\n        self, auth_session, invalid_data, request\n    ):\n        # Устанавливаем заголовок для каждого параметра в Allure\n        allure.dynamic.title(\n            f\"Невалидный POST: {request.node.callspec.id}\"\n        )\n    \n        with allure.step(\"Отправка запроса с невалидными данными\"):\n            response = auth_session.post(\n                f\"{BASE_URL}/v2/list/{LIST_ID}/task\",\n                json=invalid_data\n            )\n    \n        with allure.step(\"Проверка кода ответа (400 или 422)\"):\n>           assert response.status_code in [400, 422], (\n                f\"Ожидался статус 400 или 422, \"\n                f\"получен {response.status_code}\"\n            )\nE           AssertionError: Ожидался статус 400 или 422, получен 404\nE           assert 404 in [400, 422]\nE            +  where 404 = <Response [404]>.status_code\n\napi/test_api.py:93: AssertionError"}, "description": "Проверка невозможности создать задачу с невалидными параметрами", "steps": [{"name": "Отправка запроса с невалидными данными", "status": "passed", "start": 1744648563538, "stop": 1744648563886}, {"name": "Проверка кода ответа (400 или 422)", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидался статус 400 или 422, получен 404\nassert 404 in [400, 422]\n +  where 404 = <Response [404]>.status_code\n", "trace": "  File \"/Users/iliakarpenko/Dev/test_exam/tests/api/test_api.py\", line 93, in test_create_task_invalid_data_parametrized\n    assert response.status_code in [400, 422], (\n    ...<2 lines>...\n    )\n"}, "start": 1744648563886, "stop": 1744648563886}], "parameters": [{"name": "invalid_data", "value": "{'name': 'Task', 'description': 'desc', 'status': 'not_a_status'}"}], "start": 1744648563538, "stop": 1744648563889, "uuid": "0843fffd-b671-4190-8b5e-6f744fe2f8d5", "historyId": "f4bdd971bb7a91e57cb3c302997794ce", "testCaseId": "3a8a21b3e9cb6b0918f25090eda969b8", "fullName": "tests.api.test_api.TestPosts#test_create_task_invalid_data_parametrized", "labels": [{"name": "feature", "value": "Тестирование тасков в ClickUp"}, {"name": "tag", "value": "создание_задачи"}, {"name": "layer", "value": "api"}, {"name": "tag", "value": "негативный"}, {"name": "parentSuite", "value": "tests.api"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestPosts"}, {"name": "host", "value": "MacBook-Air-Ila.local"}, {"name": "thread", "value": "42901-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.api.test_api"}]}